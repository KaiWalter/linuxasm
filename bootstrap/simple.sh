#!/bin/sh

# write ELF header
printf '\x7f\x45\x4c\x46\x02\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00' > simple
printf '\x02\x00\x3e\x00\x01\x00\x00\x00\x00\x10\x40\x00\x00\x00\x00\x00' >> simple
printf '\x40\x00\x00\x00\x00\x00\x00\x00\x00\x11\x00\x00\x00\x00\x00\x00' >> simple
printf '\x00\x00\x00\x00\x40\x00\x38\x00\x02\x00\x40\x00\x05\x00\x04\x00' >> simple
printf '\x01\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00' >> simple
printf '\x00\x00\x40\x00\x00\x00\x00\x00\x00\x00\x40\x00\x00\x00\x00\x00' >> simple
printf '\xb0\x00\x00\x00\x00\x00\x00\x00\xb0\x00\x00\x00\x00\x00\x00\x00' >> simple
printf '\x00\x10\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00' >> simple
printf '\x00\x10\x00\x00\x00\x00\x00\x00\x00\x10\x40\x00\x00\x00\x00\x00' >> simple
printf '\x00\x10\x40\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00' >> simple
printf '\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00' >> simple
printf '\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00' >> simple

# write code
printf '\xb8\x3c\x00\x00\x00\xbf\x00\x00\x00\x00\x0f\x05' | dd of=simple bs=1 seek=4096

hexdump -C simple
hexdump -C simple2
